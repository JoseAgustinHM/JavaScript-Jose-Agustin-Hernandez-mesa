<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilo_form.css">
    <title>Práctica 9</title>
</head>
<body>
    <!--Formulario-->
    <h2><center>Por favor rellene el siguiente formulario</center></h2>
    <form name="mi_formulario" onsubmit="return Validacion()">
        <label id="lbl_nombre" value="Nombre">Nombre</label>
        <input id="txt_nombre" type="text"><br>
        <label id="lbl_apellido" value="Apellidos">Apellidos</label>
        <input id="txt_apellido" type="text"><br>
        <label id="lbl_email" value="Email">Email</label>
        <input id="txt_email" type="text"><br>
        <input id="txt_sexo" name="SexoRadio" type="radio" checked>
        <label id="lbl_sexo" value="Hombre">Hombre</label><br>
        <input id="txt_sexo"  name="SexoRadio" type="radio">
        <label id="lbl_sexo" value="Mujer">Mujer</label><br>
        <label id="lbl_texto" value="Escribe aquí">Escribe tu mensaje aquí</label><br>
        <textarea id="txta_texto" placeholder="...Escriba aquí..."></textarea><br>
        <input id="txt_condicion" type="checkbox">
        <label id="lbl_condicion" value="Deseo">Deseo recibir publicidad en mi email</label><br>
        <label id="lbl_procedencia" value="Procedencia">Procedencia</label>
        <select id="procedencia">
            <option value="">------</option>
            <optgroup label="Europa">
                <option value="">Resto de la UE</option>
                <option value="España">España</option>
                <option value="RU">Reino Unido</option>
            </optgroup>
            <optgroup label="Mundo">
                <option value="EU">Estador Unidos</option>
            </optgroup>
        </select><br><br>
        <label id="lbl_archivo" value="Archivo">Adjuntar archivo:</label>
        <input id="txt_archivo" type="file"><br><br><br>
        <input id="txt_enviar" type="submit" value="Enviar">
        <input id="txt_borrar" type="reset" value="Borrar datos">
    </form>

    <script>
        // Validaciones.
        function Validacion() {
            // Nombre.
            let nombre = document.getElementById("txt_nombre").value;
            if (nombre==""){
                alert("No has introducido tu nombre");
                return false;
            }
            // Apellidos.
            let apellidos = document.getElementById("txt_apellido").value;
            if (apellidos == "") {
                alert("No has introducido tus apellidos");
                return false;
            }
            // Email.
            let email = document.getElementById("txt_email").value;
            let email2 = /^([\da-z_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;
            if (!email2.test(email)) {
                alert("Formato del email erroneo");
                return false;
            }
            // Sexo.
            let sexo = document.getElementsByName("SexoRadio");
            let opcion = false;
            for (let i = 0; i < sexo.length; i++){
                if (sexo[i].checked) {
                    opcion = true;
                    break;
                }
            }
            if (!opcion){
                alert("Selecciona un sexo");
                return false;
            }
            // Cuadro de texto.
            if (document.mi_formulario.txta_texto.value.length == 0) {
                alert ("No hay texto introducido");
                return false;
            }
            // Check de la condición.
            let checkf = document.getElementById("txt_condicion").checked;
            if (checkf == 0) {
                alert("Debes de aceptar la condición")
            }
            // Procedencia.
            let procedencia = document.getElementById("procedencia").selectedIndex;
            if (procedencia == null || procedencia == 0) {
                alert("Debes seleccionar una procedencia");
                return false;
            }
            // Archivo adjunto.
            let arch_adjunt = document.getElementById("txt_archivo").value;
            if (arch_adjunt == 0) {
                alert("No hay introducido ningún archivo adjunto");
                return false;
            }

        }
    </script>
</body>
</html>